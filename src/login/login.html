<!DOCTYPE html>
<md-content style="max-width: 500px; margin: 0 auto;">
  <md-card>
    <section ng-if="security.isAuthenticated()">You are logged in as <a ng-href="{{user.email}}">{{ user.name }}</a>
      <md-button type="submit" ng-click="logout()" class="md-raised md-primary">Logout</md-button>
    </section>
                      
    <section ng-if="!security.isAuthenticated()">
      <form role="form" layout-padding class="np-login">
        <div>
          <md-input-container>
            <label for="username" class="md-no-float">Username (email)</label>
            <input type="text" ng-model="user.email" id="username" placeholder="your.name@npolar.no">
          </md-input-container>
          <md-input-container>
            <label for="password" class="md-no-float">Password</label>
            <input type="password" id="password" ng-model="user.password" placeholder="Password (or 1-time code)">
          </md-input-container>
        </div>
        <div layout="row" class="md-actions" layout="row">

        <md-button ng-if="!isWaitingForOnetimePassword()" flex ng-click="onetimePassword(user)">Email 1-time code</md-button>
        <md-button flex ng-click="login(user.email,user.password)" class="md-raised md-primary">Login</md-button>
        </div>
      </form>
    </section>
           
  </md-card>

  <md-card>
    <p>You may login using you permanent password, or with a 1-time password sent to your registered email account.</p>
    <p>Not a user? <a href="/user/register">Register</a></p>    
    <p>Forgot password?</a>Request a 1-time code above.</p>
  </md-card>
  
</md-content>